<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/layouts/main.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">


	<ui:define name="content">

		<div class="header bg-success pb-6">
			<div class="container-fluid">
				<div class="header-body">
					<div class="row align-items-center py-4">
						<div class="col-lg-6 col-7">
							<h6 class="h2 text-white d-inline-block mb-0">Usuarios</h6>
						</div>
						<div class="col-lg-6 col-5 text-right">
							<a href="index.xhtml" class="btn btn-sm btn-neutral">Lista de
								usuarios</a>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div class="container-fluid mt--6">
			<div class="row">
				<div class="col">
					<div class="card">
						<div class="card-header border-0">
							<h3 class="mb-0">Nuevo usuario</h3>
						</div>
						<h:messages class="msj animate__animated animate__flipInX"
							id="messages" showDetail="false" globalOnly="true"
							closable="true" style="margin-left:25px; ">
						</h:messages>

						<div class="card-body">
							<h:form id="formulario"
								rendered="#{logueado.rol == 'Administrador'}">
								<h6 class="heading-small text-muted mb-4">Información del
									usuario</h6>
								<div class="row">

									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Nombre" />
											<h:inputText id="name" class="form-control"
												value="#{usuario.nombre}" a:placeholder="Ingrese nombre"
												data-bs-toggle="tooltip" tabindex="0"
												title="Campo obligatorio" converter="convertidor"
												style="text-transform:capitalize">
												<f:ajax render="msjNombre" excute="guardar" />
											</h:inputText>
											<h:message id="msjNombre" for="name"
												style="color:#AD0909; font-size:12px" />
										</div>
									</div>

									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Apellido" />
											<h:inputText id="lastname" class="form-control"
												value="#{usuario.apellido}" a:placeholder="Ingrese apellido"
												data-bs-toggle="tooltip" data-bs-placement="bottom"
												title="Campo obligatorio" converter="convertidor"
												style="text-transform:capitalize">
												<f:ajax render="msjApellido" excute="guardar" />
											</h:inputText>
											<h:message id="msjApellido" for="lastname"
												style="color:#AD0909; font-size:12px" />
										</div>
									</div>

									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Usuario" />
											<h:inputText id="user" class="form-control"
												value="#{usuario.username}" a:placeholder="Ingrese usuario"
												data-bs-toggle="tooltip" data-bs-placement="bottom"
												title="Campo obligatorio de al menos 8 caracteres alfabéticos">
												<f:ajax render="msjUsuario" excute="guardar" />

											</h:inputText>
											<h:message id="msjUsuario" for="user"
												style="color:#AD0909; font-size:12px" />
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Email" />
											<h:inputText id="email" class="form-control"
												value="#{usuario.mail}" a:placeholder="ejemplo@iagro.com"
												data-bs-toggle="tooltip" data-bs-placement="bottom"
												title="Campo obligatorio ">

												<f:ajax render="msjMail" excute="guardar" />
											</h:inputText>
											<h:message id="msjMail" for="email"
												style="color:#AD0909; font-size:12px" />
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Contraseña" />
											<h:inputSecret id="pass" class="form-control"
												value="#{usuarioBean.pass}"
												a:placeholder="Ingrese contraseña" data-bs-toggle="tooltip"
												data-bs-placement="bottom"
												title="Campo obligatorio de al menos 8 caracteres alfanumericos, con al menos una mayúscula y una minúscula">

												<f:ajax render="msjPass" excute="guardar" />
											</h:inputSecret>
											<h:message id="msjPass" for="pass"
												style="color: #AD0909; font-size:12px" />
										</div>
									</div>

									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label"
												value="Repita la contraseña" />
											<h:inputSecret id="pass2" class="form-control"
												value="#{usuarioBean.pass2}"
												a:placeholder="Ingrese contraseña" data-bs-toggle="tooltip"
												data-bs-placement="bottom" title="Repita la contraseña">

												<f:ajax render="msjPass2" excute="guardar" />
											</h:inputSecret>
											<h:message id="msjPass2" for="pass"
												style="color: #AD0909; font-size:12px" />
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<h:outputLabel class="form-control-label" value="Rol" />
											<h:selectOneMenu value="#{usuarioBean.rolId}"
												class="form-control selectRol" id="rolId">
												<f:selectItem itemLabel="- Seleccione Rol -" itemValue="4" />
												<f:selectItems value="#{usuarioBean.obtenerRoles()}"
													var="rol" itemValue="#{rol.id}" />
												<f:ajax render="msjRol" excute="guardar" />
											</h:selectOneMenu>
										</div>
									</div>

									<div class="col-lg-6 d-none contCedula">
										<div class="form-group">
											<h:outputLabel id="cedu" class="form-control-label"
												value="Cédula" />
											<h:inputText id="ci" class="form-control txtCedula"
												value="#{usuario.cedula}" a:placeholder="Ingrese cédula"
												data-bs-toggle="tooltip" data-bs-placement="bottom"
												title="Formato de cédula uruguaya respetando puntos, guiónes y codigo verificador">

												<f:ajax render="msjCI" excute="guardar" />
											</h:inputText>
											<h:message id="msjCI" for="ci"
												style="color:#AD0909; font-size:12px" />
										</div>
									</div>

									<div class="col-lg-6 d-none contInstituto">
										<div class="form-group">

											<h:outputLabel class="form-control-label" value="Instituto" />
											<h:inputText class="form-control"
												value="#{usuario.instituto}"
												a:placeholder="Ingrese instituto" />
										</div>
									</div>

									<div id="profe" class="col-lg-6 d-none contProfesion">
										<div class="form-group">
											<h:outputLabel id="prof" class="form-control-label"
												value="Profesión" />
											<h:inputText class="form-control"
												value="#{usuario.profesion}"
												a:placeholder="Ingrese profesión" />
										</div>
									</div>

									<div class="col-lg-12">
										<h:commandButton class="btn btn-success my-4" id="guardar"
											action="#{usuarioBean.guardar(usuario)}" value="Guardar"
											update=":message">

										</h:commandButton>
									</div>
								</div>
							</h:form>
							<h:form>

								<h:commandButton action="#{usuarioBean.cancelar()}"
									image="assets/img/theme/atras16.png" data-bs-toggle="tooltip"
									data-bs-placement="bottom" title="Volver" />
							</h:form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>